package io.arale.codegen;

{{~ for import_statement in model.import_statements ~}}
{{ import_statement }}
{{~ end ~}}
{{~ if model.has_big_int_column ~}}
import com.fasterxml.jackson.databind.annotation.JsonSerialize;
import com.fasterxml.jackson.databind.ser.std.ToStringSerializer;
{{~ end ~}}
import jakarta.persistence.*;
import org.hibernate.annotations.Comment;
import lombok.*;

/**
 * {{ model.comment }} Entity
 */
@Setter
@Getter
@Entity
@Table(name = "{{ model.table_name }}")
@Comment("{{ model.comment }}")
@ToString(callSuper = true)
public class {{ model.class_name }} extends BaseEntity {
{{ for column in model.columns }}
    /**
     * {{ column.comment }}
     */
    {{~ if column.is_primary_key ~}}
    @Id
    {{~ end ~}}
    @Column(name = "{{ column.name }}", columnDefinition = "{{ column.col_type }}{{~ if column.mandatory }} not null{{~ end ~}}")
    @Comment("{{ column.comment }}")
    {{~ if column.is_big_int_type ~}}
    @JsonSerialize(using = ToStringSerializer.class)
    {{~ end ~}}
    private {{ column.field_type.type_name }} {{ column.field_name }};
{{ end }}
}
